---
title: Alamofire源码分析_2
layout: post
tags: []
category: 三方源码
---

前面一篇文章我们已经大致对Alamofire的流程有个印象了,下面我们来详细分析一下其中的细节.

## Request

主要负责请求的发送和服务端数据的接收,是用于通讯的关键类.

![alamofire_request](https://raw.githubusercontent.com/HighmoreXu/BlogImage/master/images/alamofire_request.png "alamofire_request")

### 主要构成

* 属性方面, 包含用于网络通信的URLSessionTask, URLSession, URLRequest, HTTPURLResponse基础类, 常用的retryCount重试次数, startTime, endTime, 验证集合validations. 还有前文提到的TaskDelegate, TaskCovertible等.

* 提供的方法比较简单, 就初始化, 证书验证, 状态方法resume, suspend, cancel.
状态方法就是简单调用URLSessionTask的相应方法及发送对应的通知.

* Request的描述扩展, 即对外提供request的http方法,url的响应码等构成的字符串description.

### DataRequest

前面例子中接触到的类.属于Request的子类.我们接下来看看其在Request父类基础上增加了哪些东西以用于具体的HTTP通信.






