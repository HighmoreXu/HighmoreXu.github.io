---
title: 库
layout: post
tags: []
published: false
category: iOS
---
## 前言

本篇文章主要讲下静态库和动态库.算是一篇小白文.自己之前对这些概念还是蛮混淆的,所以特意拜读了一系列文章.然后总结成该文.

主要研究问题如下:
* 什么是库 ? 
* 静态库是什么? 优势劣势 ?
* 动态库是什么? 优势劣势 ?
* iOS对两种库的应用.
* iOS如何制作.

## 库

- 举个🌰

`printf("hello world")`  就是标准的库函数.
`int printf(const char *format, ...)` 其内部实现了格式化输出的方法,使调用者可以很方便的完成输出控制台的任务.

简单来说,库就是一些为了解决通用(特定)问题形成的可供我们调用的集合. 我们可以通过库的方式重用别人编写的代码.从而在有限的生命力做更多创造性的事情.

##  静态库

🤔️ 为什么会提出静态库?
很明显,静态库是库的一种, 其本质应该是解决通用代码逻辑的复用问题.我们复用大概有以下几种思路.
现在我们假设我们是一个编译器的开发人员,我们要给程序猿们提供一些简单的诸如输入输出,数学方法等三方通用实现.

😁 直接给源码
这对于程序猿来说当然是幸福的,还可以看到优秀的代码实现.但是弊端也是明显的.首先作为一个编译器, 标准的库函数实现太多了,一股脑给程序猿那么编译实在太过复杂了.如果要修正库函数的某些实现,那么也需要重新编译.简而言之就是库函数和我们的产品太耦合了.

😢 所有库函数集中起来形成一个大的.o
这样的确减少了编译器和库函数的依赖, 但是修改的问题依然没有解决. 如果我想更改其中一个库函数的实现,那么我需要重新编译生成一个巨大的.o文件

😁 那就拆分成很多个.o发布
化整为零, 将大的.o拆分成小的.o, 放在一个特定的目录. 是不是就解决了所有问题呢?
比如你要用命令行一步一步生成一个可执行文件, 你用到了某个库函数, 那你在链接的时候是不是需要知道这个库函数对应到哪些.o文件!  这无疑让人崩溃的.

😏 静态库




那我们应该如何使用别人的库呢? 最简单粗暴的方法, 直接将库里面的目标文件链接到可执行文件中, 就和我们自己写的函数一样. 这种场景下的库就叫做静态库.

步骤大概如下图所示:

![build](https://raw.githubusercontent.com/HighmoreXu/BlogImage/master/images/compile.png "build")

第四步的linking就将静态库给拷贝到目标文件中.

### 优点

1. 静态库是在build时就完全拷贝到目标执行文件中的, 所以运行时不需要额外的依赖.
2. 


### 缺点



## 动态库



## 引用

[All about Static Libraries in C](https://medium.com/@meghamohan/all-about-static-libraries-in-c-cea57990c495)
